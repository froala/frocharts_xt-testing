<html>
	<head>        
		<title>FusionCharts XT - listen to DrawComplete event</title>       
		<script type="text/javascript" src="../../../fusioncharts/fusioncharts.js">
		</script>
	</head>   
	<body>     
		<div id="chartContainer">FusionCharts XT will load here!</div>          
		<script type="text/javascript"><!--  
			var featureTestPass1 = false;
			//var featureTestPass2 = false;
			//FusionCharts.addEventListener("Initialized", myChartListener1);
			  var objJSON = {
    "chart": {
        "palette": "2",
        "caption": "Server Performance",
        "yaxisname": "Response Time (sec)",
        "xaxisname": "Server Load (TPS)",
        "xaxismaxvalue": "100",
        "xaxisminvalue": "20",
        "yaxismaxvalue": "7",
        "animation": "0",
        "exportenabled": "1",
        "exportfilename": "",
        "exporthandler": ""
    },
    "categories": [
        {
            "verticallinecolor": "666666",
            "verticallinethickness": "1",
            "category": [
                {
                    "label": "20",
                    "x": "20",
                    "showverticalline": "1"
                },
                {
                    "label": "30",
                    "x": "30",
                    "showverticalline": "1"
                },
                {
                    "label": "40",
                    "x": "40",
                    "showverticalline": "1"
                },
                {
                    "label": "50",
                    "x": "50",
                    "showverticalline": "1"
                },
                {
                    "label": "60",
                    "x": "60",
                    "showverticalline": "1"
                },
                {
                    "label": "70",
                    "x": "70",
                    "showverticalline": "1"
                },
                {
                    "label": "80",
                    "x": "80",
                    "showverticalline": "1"
                },
                {
                    "label": "90",
                    "x": "90",
                    "showverticalline": "1"
                },
                {
                    "label": "100",
                    "x": "100",
                    "showverticalline": "0"
                }
            ]
        }
    ],
    "dataset": [
        {
            "drawline": "1",
            "seriesname": "Server 1",
            "color": "009900",
            "anchorsides": "3",
            "anchorradius": "4",
            "anchorbgcolor": "D5FFD5",
            "anchorbordercolor": "009900",
            "data": [
                {
                    "y": "2.4",
                    "x": "21"
                },
                {
                    "y": "3.5",
                    "x": "32"
                },
                {
                    "y": "2.5",
                    "x": "43"
                },
                {
                    "y": "4.1",
                    "x": "48"
                },
                {
                    "y": "3.5",
                    "x": "50"
                },
                {
                    "y": "4.6",
                    "x": "56"
                },
                {
                    "y": "4.8",
                    "x": "59"
                },
                {
                    "y": "4.9",
                    "x": "73"
                },
                {
                    "y": "4.6",
                    "x": "89"
                },
                {
                    "y": "4.2",
                    "x": "93"
                }
            ]
        },
        {
            "seriesname": "Server 2",
            "color": "0000FF",
            "anchorsides": "4",
            "anchorradius": "4",
            "anchorbgcolor": "C6C6FF",
            "anchorbordercolor": "0000FF",
            "data": [
                {
                    "y": "1.4",
                    "x": "23"
                },
                {
                    "y": "1.5",
                    "x": "29"
                },
                {
                    "y": "1.5",
                    "x": "33"
                },
                {
                    "y": "1.1",
                    "x": "41"
                },
                {
                    "y": "1.5",
                    "x": "47"
                },
                {
                    "y": "1.6",
                    "x": "49"
                },
                {
                    "y": "1.8",
                    "x": "51"
                },
                {
                    "y": "1.9",
                    "x": "53"
                },
                {
                    "y": "1.6",
                    "x": "57"
                },
                {
                    "y": "1.2",
                    "x": "58"
                },
                {
                    "y": "1.9",
                    "x": "61"
                },
                {
                    "y": "1.1",
                    "x": "63"
                },
                {
                    "y": "1.9",
                    "x": "64"
                },
                {
                    "y": "1.7",
                    "x": "71"
                },
                {
                    "y": "1.1",
                    "x": "77"
                },
                {
                    "y": "1.3",
                    "x": "79"
                },
                {
                    "y": "1.7",
                    "x": "83"
                },
                {
                    "y": "1.8",
                    "x": "89"
                },
                {
                    "y": "1.9",
                    "x": "91"
                },
                {
                    "y": "1.0",
                    "x": "93"
                }
            ]
        }
    ],
    "vtrendlines": [
        {
            "line": [
                {
                    "startvalue": "20",
                    "endvalue": "65",
                    "alpha": "5",
                    "color": "00FF00"
                },
                {
                    "startvalue": "65",
                    "endvalue": "75",
                    "alpha": "15",
                    "color": "FFFF00"
                },
                {
                    "startvalue": "75",
                    "endvalue": "100",
                    "alpha": "15",
                    "color": "FF0000"
                }
            ]
        }
    ],
    "trendlines": [
        {
            "line": [
                {
                    "startvalue": "5.2",
                    "displayvalue": "Check",
                    "linethickness": "2",
                    "color": "FF0000",
                    "valueonright": "1",
                    "dashed": "1",
                    "dashgap": "5"
                }
            ]
        }
    ]
} ;
			//Chart setup code
			var myChart = new FusionCharts({type: 'Scatter', width: '400', height: '300', debugMode: false, bgColor: 'ffff0f', renderAt: 'chartContainer', id: "myChartId", dataSource: objJSON, dataFormat: 'json', renderer: 'javascript'
					});
			FusionCharts.addEventListener("connectorAdded", myChartListener1);
			myChart.render();
			function myChartListener1(eventObject, argumentsObject)
			{
			  var chart = eventObject.sender, // access the chart that raised this event
			  caption = chart && chart.getChartAttribute('caption');
			  var containertext = "";
				featureTestPass1 = true;
				featureTestPass1 = featureTestPass1 && (eventObject.sender.id == "myChartId");
				featureTestPass1 = featureTestPass1 && (eventObject.eventType == "connectoradded");
				 alert("ConnectorAdded Event has been triggered with attributes:" + argumentsObject.toSource());
			}
			// -->     
		</script>      
	</body> 
	</html>